#!/bin/sh
# postrm script for gst-plugin-tracers  
# Following PRP-006: Post-removal cleanup

set -e

case "$1" in
    purge)
        # Remove any configuration files or cache entries if they exist
        # Currently, this plugin doesn't create any config files
        ;;

    remove)
        # Force GStreamer to update its plugin cache after removal
        if [ -x /usr/bin/gst-inspect-1.0 ]; then
            # This will trigger a registry rescan on next GStreamer use
            rm -f ~/.cache/gstreamer-1.0/registry.*.bin 2>/dev/null || true
            rm -f /root/.cache/gstreamer-1.0/registry.*.bin 2>/dev/null || true
        fi
        ;;

    upgrade|failed-upgrade|abort-install|abort-upgrade|disappear)
        ;;

    *)
        echo "postrm called with unknown argument \`$1'" >&2
        exit 1
        ;;
esac

exit 0